<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#e91e63">
    <title>Awally-Beaut√© Pro - Maquillage, Ongles Gel, Accessoires</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <style>
        /* Styles identiques √† l'original */
        :root {
            --primary: #e91e63;
            --primary-light: #f48fb1;
            --primary-dark: #c2185b;
            --secondary: #7b1fa2;
            --secondary-light: #ba68c8;
            --accent: #ff4081;
            --pink: #ff80ab;
            --purple: #9c27b0;
            --light-pink: #fce4ec;
            --light-purple: #f3e5f5;
            --gold: #ffd700;
            --silver: #c0c0c0;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #f44336;
            --whatsapp: #25D366;
            --esodi: #9c27b0;
            --euro: #0057B7;
            --dollar: #85BB65;
            --light: #fff5f8;
            --dark: #880e4f;
            --border-radius: 15px;
            --border-radius-round: 50px;
            --box-shadow: 0 4px 20px rgba(233, 30, 99, 0.1);
            --box-shadow-hover: 0 8px 30px rgba(233, 30, 99, 0.2);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #fce4ec 0%, #f3e5f5 100%);
            color: #5d4037;
            line-height: 1.6;
            padding: 15px;
            font-size: 16px;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        .beauty-container {
            max-width: 100%;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(233, 30, 99, 0.15);
            border: 1px solid #f8bbd9;
        }
        
        .beauty-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px 15px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .beauty-title {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
        }
        
        .beauty-title h1 {
            font-size: 24px;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .beauty-subtitle {
            font-size: 14px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .beauty-btn-round {
            width: 45px;
            height: 45px;
            min-width: 45px;
            padding: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            cursor: pointer;
            font-size: 16px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1;
        }
        
        .beauty-btn-round:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .beauty-retour {
            position: absolute;
            left: 15px;
            top: 20px;
            z-index: 2;
        }
        
        .beauty-info-card {
            background: linear-gradient(135deg, var(--light-pink), var(--light-purple));
            padding: 20px;
            margin: 20px;
            border-radius: 15px;
            border-left: 5px solid var(--accent);
            box-shadow: var(--box-shadow);
        }
        
        .beauty-info-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: var(--secondary);
        }
        
        .beauty-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }
        
        .beauty-info-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(233, 30, 99, 0.1);
            transition: var(--transition);
        }
        
        .beauty-info-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(233, 30, 99, 0.15);
        }
        
        .beauty-info-item i {
            color: var(--primary);
            font-size: 16px;
            width: 20px;
        }
        
        .beauty-content {
            padding: 15px;
        }
        
        .beauty-section {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--light-pink);
        }
        
        .beauty-section-title {
            color: var(--secondary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
        }
        
        .beauty-form-group {
            margin-bottom: 15px;
        }
        
        .beauty-label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: var(--secondary);
            font-size: 14px;
        }
        
        .beauty-input, .beauty-select, .beauty-textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #f0f0f0;
            border-radius: 10px;
            font-size: 14px;
            transition: var(--transition);
            background: #fafafa;
        }
        
        .beauty-input:focus, .beauty-select:focus, .beauty-textarea:focus {
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 3px rgba(233, 30, 99, 0.1);
            outline: none;
        }
        
        .beauty-categories {
            display: flex;
            flex-wrap: nowrap;
            gap: 8px;
            margin-bottom: 15px;
            overflow-x: auto;
            padding-bottom: 5px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        
        .beauty-categories::-webkit-scrollbar {
            display: none;
        }
        
        .beauty-category-btn {
            padding: 10px 15px;
            background: var(--light-pink);
            border: none;
            border-radius: var(--border-radius-round);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            white-space: nowrap;
            font-size: 13px;
            color: var(--primary-dark);
            border: 2px solid transparent;
        }
        
        .beauty-category-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border-color: var(--primary);
            box-shadow: var(--box-shadow);
        }
        
        .beauty-product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .beauty-product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(233, 30, 99, 0.08);
            transition: var(--transition);
            border: 2px solid transparent;
            position: relative;
        }
        
        .beauty-product-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-hover);
            border-color: var(--primary);
        }
        
        .beauty-product-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            z-index: 2;
        }
        
        .beauty-product-image {
            height: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-size: cover;
            background-position: center;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            background: linear-gradient(45deg, #f48fb1, #e91e63);
            color: white;
        }
        
        .beauty-product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .beauty-product-image:hover img {
            transform: scale(1.05);
        }
        
        .beauty-product-info {
            padding: 12px;
        }
        
        .beauty-product-title {
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 6px;
            color: var(--dark);
            line-height: 1.3;
        }
        
        .beauty-product-price {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 8px;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .price-fcfa {
            color: var(--primary);
        }
        
        .price-other {
            color: #666;
            font-size: 12px;
            display: flex;
            gap: 8px;
        }
        
        .price-euro {
            color: var(--euro);
        }
        
        .price-dollar {
            color: var(--dollar);
        }
        
        .beauty-product-description {
            color: #8d6e63;
            font-size: 12px;
            margin-bottom: 12px;
            height: 36px;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }
        
        .beauty-quantity-control {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 8px;
        }
        
        .beauty-quantity-btn {
            background: var(--light-pink);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            color: var(--primary-dark);
        }
        
        .beauty-quantity-btn:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }
        
        .beauty-quantity-input {
            width: 50px;
            text-align: center;
            margin: 0 5px;
            font-weight: bold;
            padding: 6px;
            border: 1px solid #f0f0f0;
            border-radius: 8px;
            background: white;
            font-size: 14px;
        }
        
        .beauty-selected-products {
            background: linear-gradient(135deg, #fce4ec, #f8bbd9);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            display: none;
            border: 2px solid var(--primary-light);
        }
        
        .beauty-selected-list {
            margin-top: 10px;
        }
        
        .beauty-selected-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(233, 30, 99, 0.2);
            font-size: 14px;
        }
        
        .beauty-selected-item:last-child {
            border-bottom: none;
        }
        
        .beauty-selected-name {
            font-weight: 600;
            color: var(--secondary);
        }
        
        .beauty-selected-price {
            font-weight: 600;
            color: var(--primary);
        }
        
        .beauty-summary {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            box-shadow: var(--box-shadow);
            border: 1px solid #f0f0f0;
        }
        
        .beauty-summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #f0f0f0;
            font-size: 14px;
        }
        
        .beauty-summary-total {
            display: flex;
            justify-content: space-between;
            font-size: 18px;
            font-weight: 700;
            color: var(--dark);
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #f0f0f0;
        }
        
        .beauty-payment-info {
            background: #fff8e1;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 4px solid var(--warning);
            font-size: 13px;
        }
        
        .beauty-action-buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 20px;
        }
        
        .beauty-btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: var(--border-radius-round);
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: var(--transition);
        }
        
        .beauty-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--box-shadow-hover);
        }
        
        .beauty-btn:active {
            transform: translateY(-1px);
        }
        
        .beauty-btn-whatsapp {
            background: linear-gradient(135deg, var(--whatsapp), #128C7E);
            color: white;
        }
        
        .beauty-btn-esodi {
            background: linear-gradient(135deg, var(--esodi), var(--secondary));
            color: white;
        }
        
        .beauty-btn-location {
            background: linear-gradient(135deg, var(--warning), #f57c00);
            color: white;
            padding: 14px;
            border-radius: var(--border-radius-round);
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 10px;
            width: 100%;
            font-size: 14px;
            border: none;
            transition: var(--transition);
        }
        
        .beauty-btn-location:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
        }
        
        .beauty-location-section {
            margin-top: 15px;
            padding: 15px;
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-radius: 15px;
            border-left: 4px solid var(--primary);
        }
        
        .beauty-location-details {
            margin-top: 12px;
            padding: 10px;
            background: white;
            border-radius: 8px;
            font-size: 13px;
            display: none;
        }
        
        .beauty-location-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            display: none;
        }
        
        .beauty-location-loading i {
            margin-right: 8px;
            animation: beautySpin 1s linear infinite;
        }
        
        .beauty-payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(233, 30, 99, 0.95);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 15px;
            backdrop-filter: blur(5px);
        }
        
        .beauty-modal-content {
            background: white;
            padding: 25px;
            border-radius: 20px;
            width: 100%;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            max-height: 90vh;
            overflow-y: auto;
            animation: beautySlideIn 0.3s ease;
            border: 2px solid var(--primary-light);
        }
        
        @keyframes beautySlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .beauty-modal-header {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .beauty-modal-buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 20px;
        }
        
        .beauty-modal-btn {
            padding: 14px;
            border: none;
            border-radius: var(--border-radius-round);
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: var(--transition);
        }
        
        .beauty-modal-btn:hover {
            transform: translateY(-2px);
        }
        
        .beauty-modal-btn-esodi {
            background: linear-gradient(135deg, var(--esodi), var(--secondary));
            color: white;
        }
        
        .beauty-modal-btn-cancel {
            background: var(--light-pink);
            color: var(--primary-dark);
        }
        
        .beauty-payment-steps {
            text-align: left;
            margin-top: 15px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 10px;
            font-size: 13px;
        }
        
        .beauty-import-section {
            margin-top: 15px;
            padding: 15px;
            background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
            border-radius: 15px;
            border: 2px dashed #4caf50;
        }
        
        .beauty-import-btn {
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius-round);
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            background: linear-gradient(135deg, var(--success), #2e7d32);
            color: white;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: var(--transition);
        }
        
        .beauty-notification {
            position: fixed;
            top: 15px;
            right: 15px;
            left: 15px;
            padding: 12px 15px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            z-index: 2000;
            opacity: 0;
            transform: translateY(-20px);
            transition: var(--transition);
            text-align: center;
            font-size: 14px;
        }
        
        .beauty-notification.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .beauty-image-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(233, 30, 99, 0.95);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            padding: 15px;
        }
        
        .beauty-image-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }
        
        .beauty-image-close {
            position: absolute;
            top: -35px;
            right: 0;
            color: white;
            font-size: 24px;
            cursor: pointer;
            background: rgba(255,255,255,0.2);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .beauty-footer {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, var(--secondary), var(--primary-dark));
            color: white;
            font-size: 13px;
        }
        
        .beauty-checkbox-container {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .beauty-checkbox-container input {
            width: auto;
            margin-right: 8px;
            transform: scale(1.2);
        }
        
        @keyframes beautySpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .beauty-scrollable {
            -webkit-overflow-scrolling: touch;
        }
        
        @media (min-width: 768px) {
            .beauty-product-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .beauty-info-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .beauty-action-buttons {
                flex-direction: row;
            }
            
            .beauty-btn {
                width: 48%;
            }
        }
        
        .currency-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .currency-btn {
            padding: 8px 15px;
            border: 2px solid var(--primary-light);
            border-radius: var(--border-radius-round);
            background: white;
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .currency-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .currency-display {
            display: flex;
            gap: 15px;
            font-size: 12px;
            color: #666;
        }
        
        .sample-import-btn {
            padding: 8px 15px;
            border: 2px dashed var(--primary);
            border-radius: var(--border-radius-round);
            background: white;
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 12px;
            margin-left: 10px;
        }
        
        .sample-import-btn:hover {
            background: var(--light-pink);
        }
    </style>
</head>
<body>
    <div class="beauty-container">
        <header class="beauty-header">
            <button class="beauty-btn-round beauty-retour" onclick="history.back()" title="Retour">
                <i class="fas fa-arrow-left"></i>
            </button>
            
            <div class="beauty-title">
                <i class="fas fa-spa"></i>
                <h1>Awally-Beaut√© Pro Shop</h1>
            </div>
            <p class="beauty-subtitle">Maquillage ‚Ä¢ Ongles Gel ‚Ä¢ Accessoires</p>
        </header>
        
        <div class="beauty-info-card">
            <div class="beauty-info-header">
                <i class="fas fa-user-shield"></i>
                <h3>Contact G√©rante</h3>
            </div>
            <div class="beauty-info-grid">
                <div class="beauty-info-item">
                    <i class="fas fa-user-tie"></i>
                    <div>
                        <strong>G√©rante:</strong><br>
                        <small>Awally</small>
                    </div>
                </div>
                <div class="beauty-info-item">
                    <i class="fab fa-whatsapp"></i>
                    <div>
                        <strong>WhatsApp:</strong><br>
                        <small>+337 56 95 01 90</small>
                    </div>
                </div>
                <div class="beauty-info-item">
                    <i class="fas fa-envelope"></i>
                    <div>
                        <strong>Email:</strong><br>
                        <small>bintou179@live.fr</small>
                    </div>
                </div>
                <div class="beauty-info-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <div>
                        <strong>Salon:</strong><br>
                        <small>4 rue mazagran Marseille 13001, France</small>
                    </div>
                </div>
            </div>
        </div>
        
        <main class="beauty-content">
            <div class="beauty-import-section">
                <h3 class="beauty-section-title">
                    <i class="fas fa-file-import"></i> Catalogue Beaut√©
                    <button id="sample-catalog-btn" class="sample-import-btn">
                        <i class="fas fa-magic"></i> Charger exemple
                    </button>
                </h3>
                <p>Importez un fichier catalogue (.json) pour voir nos produits disponibles.</p>
                <div class="beauty-form-group" style="display: flex; gap: 10px;">
                    <input type="file" id="beauty-import-catalog" accept=".json,application/json" class="beauty-input" style="flex: 1;">
                </div>
                <button class="beauty-import-btn" id="beauty-import-btn">
                    <i class="fas fa-upload"></i> Importer Catalogue
                </button>
            </div>
            
            <div class="beauty-section">
                <h2 class="beauty-section-title"><i class="fas fa-user"></i> Vos Informations</h2>
                <div class="beauty-form-group">
                    <label for="beauty-nom" class="beauty-label">Nom et Pr√©nom *</label>
                    <input type="text" id="beauty-nom" class="beauty-input" placeholder="Votre nom complet" required>
                </div>
                
                <div class="beauty-form-group">
                    <label for="beauty-whatsapp" class="beauty-label">Num√©ro WhatsApp *</label>
                    <input type="tel" id="beauty-whatsapp" class="beauty-input" placeholder="Votre num√©ro WhatsApp" required>
                </div>
                
                <div class="beauty-form-group">
                    <label for="beauty-adresse" class="beauty-label">Adresse de Livraison *</label>
                    <textarea id="beauty-adresse" class="beauty-textarea" rows="2" placeholder="Votre adresse pour la livraison" required></textarea>
                </div>
                
                <div class="beauty-location-section">
                    <h3 class="beauty-section-title"><i class="fas fa-map-marker-alt"></i> Localisation</h3>
                    <p>Pour une livraison pr√©cise, g√©olocalisez-vous automatiquement</p>
                    <button class="beauty-btn-location" id="beauty-get-location">
                        <i class="fas fa-location-arrow"></i> G√©olocaliser automatiquement
                    </button>
                    
                    <div id="beauty-location-loading" class="beauty-location-loading">
                        <i class="fas fa-spinner"></i> Localisation en cours...
                    </div>
                    
                    <div id="beauty-location-details" class="beauty-location-details">
                        <p><strong>üìç Adresse d√©tect√©e:</strong> <span id="beauty-detected-address"></span></p>
                        <p><strong>üìå Coordonn√©es GPS:</strong> <span id="beauty-coordinates"></span></p>
                    </div>
                </div>
            </div>
            
            <div class="beauty-section">
                <h2 class="beauty-section-title"><i class="fas fa-palette"></i> Produits Beaut√©</h2>
                
                <div class="currency-selector">
                    <button class="currency-btn active" data-currency="FCFA">FCFA</button>
                    <button class="currency-btn" data-currency="EUR">‚Ç¨ Euro</button>
                    <button class="currency-btn" data-currency="USD">$ Dollar US</button>
                </div>
                
                <p>Choisissez une cat√©gorie :</p>
                
                <div class="beauty-categories beauty-scrollable">
                    <button class="beauty-category-btn active" data-category="all">Tous</button>
                    <button class="beauty-category-btn" data-category="maquillage">Maquillage</button>
                    <button class="beauty-category-btn" data-category="ongles Gel">Ongles Gel</button>
                    <button class="beauty-category-btn" data-category="Accessoires">Accessoires</button>
                </div>
                
                <div class="beauty-product-grid" id="beauty-product-grid">
                    <div style="grid-column: 1 / -1; text-align: center; padding: 30px;">
                        <i class="fas fa-palette" style="font-size: 48px; color: var(--primary-light); margin-bottom: 15px;"></i>
                        <h3 style="color: var(--secondary); margin-bottom: 10px;">Aucun produit disponible</h3>
                        <p style="color: var(--primary-light);">Importez un catalogue pour voir nos produits beaut√©</p>
                        <button onclick="document.getElementById('beauty-import-catalog').click()" style="margin-top: 15px; background: var(--primary); color: white; padding: 12px 24px; border: none; border-radius: 30px; cursor: pointer;">
                            <i class="fas fa-upload"></i> Importer un catalogue
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="beauty-selected-products" id="beauty-selected-products">
                <h3 class="beauty-section-title"><i class="fas fa-check-circle"></i> Votre S√©lection</h3>
                <div id="beauty-selected-list" class="beauty-selected-list"></div>
            </div>
            
            <div class="beauty-section">
                <h2 class="beauty-section-title"><i class="fas fa-file-invoice"></i> R√©capitulatif</h2>
                
                <div class="currency-selector" style="margin-bottom: 20px;">
                    <button class="currency-btn active" data-total-currency="FCFA">Voir total en FCFA</button>
                    <button class="currency-btn" data-total-currency="EUR">Voir total en ‚Ç¨</button>
                    <button class="currency-btn" data-total-currency="USD">Voir total en $</button>
                </div>
                
                <div class="beauty-summary">
                    <div class="beauty-summary-item">
                        <span>Articles s√©lectionn√©s:</span>
                        <span id="beauty-articles-count">0</span>
                    </div>
                    <div class="beauty-summary-item">
                        <span>Sous-total:</span>
                        <span id="beauty-subtotal">0 <span class="beauty-currency">FCFA</span></span>
                    </div>
                    <div class="beauty-summary-item">
                        <span>Frais de livraison:</span>
                        <span id="beauty-delivery">2 000 <span class="beauty-currency">FCFA</span></span>
                    </div>
                    <div class="beauty-summary-total">
                        <span>Total:</span>
                        <span id="beauty-total">2 000 <span class="beauty-currency">FCFA</span></span>
                    </div>
                </div>
                
                <div class="beauty-payment-info">
                    <p><strong>Option de paiement:</strong></p>
                    <ul>
                        <li><strong>Carte PayPal:</strong> Effectuez un virement via le lien s√©curis√© <strong>https://jeanskodoc.github.io/prestation-awally/</strong></li>
                    </ul>
                    <p style="margin-top: 10px; font-size: 12px;">Votre commande sera trait√©e d√®s r√©ception du paiement.</p>
                </div>
            </div>
            
            <div class="beauty-section">
                <h2 class="beauty-section-title"><i class="fas fa-paper-plane"></i> Finaliser Commande</h2>
                <div class="beauty-checkbox-container">
                    <input type="checkbox" id="beauty-confirm-location">
                    <label for="beauty-confirm-location">J'autorise l'utilisation de ma position pour la livraison</label>
                </div>
                <div class="beauty-checkbox-container">
                    <input type="checkbox" id="beauty-confirm" required>
                    <label for="beauty-confirm">Je confirme que les informations sont correctes</label>
                </div>
                
                <div class="beauty-action-buttons">
                    <button class="beauty-btn beauty-btn-whatsapp" id="beauty-whatsapp-btn">
                        <i class="fab fa-whatsapp"></i> Envoyer par WhatsApp
                    </button>
                    
                    <button class="beauty-btn beauty-btn-esodi" id="beauty-esodi-btn">
                        <i class="fas fa-gem"></i> Payer avec PayPal 
                    </button>
                </div>
            </div>
        </main>
        
        <footer class="beauty-footer">
            <p>¬© 2026 Beaut√© Pro - Service Client: 92 87 16 05 | Livraison sous 24-48h</p>
            <p style="margin-top: 8px; font-size: 11px; opacity: 0.8;">
                <i class="fas fa-heart"></i>
                Votre beaut√©, notre passion
            </p>
        </footer>
    </div>

    <div class="beauty-payment-modal" id="beauty-payment-modal">
        <div class="beauty-modal-content">
            <div class="beauty-modal-header">
                <i class="fas fa-gem"></i> Paiement par PayPal
            </div>
            
            <p style="font-size: 18px; margin: 15px 0;">
                Montant √† payer: <strong id="beauty-modal-amount" style="color: var(--primary);">0 FCFA</strong>
            </p>
            
            <div class="currency-display" style="justify-content: center; margin-bottom: 15px;">
                <span id="modal-euro" style="color: var(--euro);"></span>
                <span id="modal-dollar" style="color: var(--dollar);"></span>
            </div>
            
            <div class="beauty-payment-steps">
                <p><strong>Instructions de paiement:</strong></p>
                <ol>
                    <li>Cliquez sur "Acc√©der au Portail PayPal" ci-dessous</li>
                    <li>Vous serez redirig√© vers le portail de paiement s√©curis√©</li>
                    <li>Suivez les instructions pour effectuer votre paiement</li>
                    <li>Une fois le paiement effectu√©, revenez sur cette page</li>
                    <li>Cliquez sur "Envoyer par WhatsApp" pour confirmer</li>
                </ol>
            </div>
            
            <div class="beauty-modal-buttons">
                <button class="beauty-modal-btn beauty-modal-btn-esodi" id="beauty-esodi-modal-btn">
                    <i class="fas fa-external-link-alt"></i> Acc√©der au Portail PayPal 
                </button>
                
                <button class="beauty-modal-btn beauty-modal-btn-cancel" id="beauty-cancel-btn">
                    <i class="fas fa-times"></i> Annuler
                </button>
            </div>
        </div>
    </div>

    <div class="beauty-image-modal" id="beauty-image-modal">
        <div class="beauty-image-content">
            <span class="beauty-image-close" id="beauty-image-close">&times;</span>
            <img id="beauty-zoomed-image" src="" alt="Produit beaut√©">
        </div>
    </div>

    <div id="beauty-notification" class="beauty-notification"></div>

    <script>
        // Taux de change
        const EXCHANGE_RATES = {
            EUR: 0.00152,
            USD: 0.00165
        };

        // Variables globales
        let beautyProducts = [];
        let beautyUserCoordinates = null;
        let beautyUserAddress = "";
        let currentCurrency = 'FCFA';
        let currentTotalCurrency = 'FCFA';

        // Catalogue complet avec 40 produits : 13 maquillage, 20 ongles Gel, 7 Accessoires
        const COMPLETE_CATALOG = [
            // MAQUILLAGE - 13 produits (id 1-13)
            {
                id: 1,
                name: "Palette Maquillage Professionnelle",
                price: 25000,
                category: "maquillage",
                stock: 15,
                description: "Palette 48 couleurs pigment√©es, longue tenue",
                image: "https://image.noelshack.com/fichiers/2026/07/4/1770864731-m1.jpeg"
            },
            {
                id: 2,
                name: "Foundation Haute Couvrance",
                price: 18500,
                category: "maquillage",
                stock: 22,
                description: "Teint parfait 16h de tenue",
                image: "https://images.unsplash.com/photo-1631730365076-8e750f9f44d3?w=200"
            },
            {
                id: 3,
                name: "Rouge √† L√®vres Mat",
                price: 9500,
                category: "maquillage",
                stock: 30,
                description: "Rouge intense, fini velout√©",
                image: "https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=200"
            },
            {
                id: 4,
                name: "Mascara Volume Extr√™me",
                price: 12500,
                category: "maquillage",
                stock: 18,
                description: "Volume spectaculaire, allonge les cils",
                image: "https://images.unsplash.com/photo-1631214524020-3c1d9e5e2689?w=200"
            },
            {
                id: 5,
                name: "Highlighter Lumi√®re Dor√©e",
                price: 14500,
                category: "maquillage",
                stock: 14,
                description: "√âclat lumineux et naturel",
                image: "https://images.unsplash.com/photo-1617897903246-719242758050?w=200"
            },
            {
                id: 6,
                name: "Poudre Fixatrice Transparente",
                price: 16500,
                category: "maquillage",
                stock: 20,
                description: "Finition parfaite, maquillage longue tenue",
                image: "https://images.unsplash.com/photo-1599315837537-3e019f6b5b4b?w=200"
            },
            {
                id: 7,
                name: "Palette Fards √† Paupi√®res Nude",
                price: 22000,
                category: "maquillage",
                stock: 12,
                description: "12 teintes nude ultra-pigment√©es",
                image: "https://images.unsplash.com/photo-1515560570411-6febe8977431?w=200"
            },
            {
                id: 8,
                name: "Eyeliner Noir Intense",
                price: 10500,
                category: "maquillage",
                stock: 25,
                description: "Trait pr√©cis, s√©chage rapide",
                image: "https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=200"
            },
            {
                id: 9,
                name: "Blush Cr√®me Ros√©",
                price: 13500,
                category: "maquillage",
                stock: 17,
                description: "Effet bonne mine naturel",
                image: "https://images.unsplash.com/photo-1611082234807-f26436c40575?w=200"
            },
            {
                id: 10,
                name: "Anti-cernes Haute Couvrance",
                price: 15500,
                category: "maquillage",
                stock: 19,
                description: "Cache parfaitement les imperfections",
                image: "https://images.unsplash.com/photo-1631730318352-8faf2cc67ca1?w=200"
            },
            {
                id: 11,
                name: "Spray Fixateur Maquillage",
                price: 14000,
                category: "maquillage",
                stock: 23,
                description: "Maintien du maquillage 24h",
                image: "https://images.unsplash.com/photo-1625772299848-3911661c08e0?w=200"
            },
            {
                id: 12,
                name: "Crayon Sourcils Pr√©cision",
                price: 8500,
                category: "maquillage",
                stock: 28,
                description: "D√©finition naturelle des sourcils",
                image: "https://images.unsplash.com/photo-1602525961999-3683777ac114?w=200"
            },
            {
                id: 13,
                name: "Gloss Volume Brillant",
                price: 11000,
                category: "maquillage",
                stock: 26,
                description: "Brillance intense, effet repulpant",
                image: "https://images.unsplash.com/photo-1599733594220-6ee4c68e2ccd?w=200"
            },
            
            // ONGLES GEL - 20 produits (id 14-33)
            {
                id: 14,
                name: "Kit Ongles Gel Complet",
                price: 35000,
                category: "ongles Gel",
                stock: 10,
                description: "Kit professionnel avec lampe UV/LED 48W",
                image: "https://images.unsplash.com/photo-1604654894610-df63bc536371?w=200"
            },
            {
                id: 15,
                name: "Lampe UV/LED Professionnelle",
                price: 28000,
                category: "ongles Gel",
                stock: 8,
                description: "Lampe 96W, s√©chage rapide en 30s",
                image: "https://images.unsplash.com/photo-1610992235669-1e960506e071?w=200"
            },
            {
                id: 16,
                name: "Vernis Semi-permanent Rouge Passion",
                price: 7500,
                category: "ongles Gel",
                stock: 35,
                description: "Tenue 3 semaines, couleur intense",
                image: "https://images.unsplash.com/photo-1598620617447-62cf8fbc0b6b?w=200"
            },
            {
                id: 17,
                name: "Base Coat Ongles Gel",
                price: 6500,
                category: "ongles Gel",
                stock: 30,
                description: "Adh√©rence parfaite, protection",
                image: "https://images.unsplash.com/photo-1610992220009-7e2d6e4f6b9a?w=200"
            },
            {
                id: 18,
                name: "Top Coat Brillant",
                price: 6500,
                category: "ongles Gel",
                stock: 32,
                description: "Finition miroir, protection UV",
                image: "https://images.unsplash.com/photo-1631727366714-d9f69e424b85?w=200"
            },
            {
                id: 19,
                name: "Vernis Gel Nude",
                price: 7500,
                category: "ongles Gel",
                stock: 28,
                description: "Teinte naturelle √©l√©gante",
                image: "https://images.unsplash.com/photo-1610992235805-8e9e8b7b5c3d?w=200"
            },
            {
                id: 20,
                name: "Dissolvant Sp√©cial Gel",
                price: 5500,
                category: "ongles Gel",
                stock: 25,
                description: "Dissout le gel en 10 minutes",
                image: "https://images.unsplash.com/photo-1610992235708-8b9a5d6b9c0f?w=200"
            },
            {
                id: 21,
                name: "Kit Nail Art Gel",
                price: 12500,
                category: "ongles Gel",
                stock: 15,
                description: "6 couleurs pour nail art",
                image: "https://images.unsplash.com/photo-1610992235608-4b8b4d9b9c1e?w=200"
            },
            {
                id: 22,
                name: "Vernis Gel Bleu Cobalt",
                price: 7500,
                category: "ongles Gel",
                stock: 22,
                description: "Bleu profond intense",
                image: "https://images.unsplash.com/photo-1610992235908-4b8b4d9b9c2f?w=200"
            },
            {
                id: 23,
                name: "Lime √âlectrique Professionnelle",
                price: 22000,
                category: "ongles Gel",
                stock: 7,
                description: "Vitesse variable, embouts inclus",
                image: "https://images.unsplash.com/photo-1610992236008-4b8b4d9b9c3e?w=200"
            },
            {
                id: 24,
                name: "Vernis Gel Noir",
                price: 7500,
                category: "ongles Gel",
                stock: 30,
                description: "Noir intense, effet laqu√©",
                image: "https://images.unsplash.com/photo-1610992236108-4b8b4d9b9c4d?w=200"
            },
            {
                id: 25,
                name: "Primer Ongles",
                price: 4500,
                category: "ongles Gel",
                stock: 40,
                description: "Pr√©pare l'ongle, tenue prolong√©e",
                image: "https://images.unsplash.com/photo-1610992236208-4b8b4d9b9c5c?w=200"
            },
            {
                id: 26,
                name: "Vernis Gel Rose Poudr√©",
                price: 7500,
                category: "ongles Gel",
                stock: 26,
                description: "Rose √©l√©gant et raffin√©",
                image: "https://images.unsplash.com/photo-1610992236308-4b8b4d9b9c6b?w=200"
            },
            {
                id: 27,
                name: "Pinceaux Nail Art",
                price: 8500,
                category: "ongles Gel",
                stock: 20,
                description: "Set de 5 pinceaux pr√©cision",
                image: "https://images.unsplash.com/photo-1610992236408-4b8b4d9b9c7a?w=200"
            },
            {
                id: 28,
                name: "Vernis Gel Violet",
                price: 7500,
                category: "ongles Gel",
                stock: 24,
                description: "Violet tendance",
                image: "https://images.unsplash.com/photo-1610992236508-4b8b4d9b9c89?w=200"
            },
            {
                id: 29,
                name: "Nettoyant Capillaire",
                price: 5000,
                category: "ongles Gel",
                stock: 35,
                description: "Nettoie la couche collante",
                image: "https://images.unsplash.com/photo-1610992236608-4b8b4d9b9c98?w=200"
            },
            {
                id: 30,
                name: "Vernis Gel Blanc",
                price: 7500,
                category: "ongles Gel",
                stock: 28,
                description: "Blanc pur, parfait pour french",
                image: "https://images.unsplash.com/photo-1610992236708-4b8b4d9b9d07?w=200"
            },
            {
                id: 31,
                name: "Chablon Pour Ongles",
                price: 3500,
                category: "ongles Gel",
                stock: 50,
                description: "Pour extension gel, lot de 100",
                image: "https://images.unsplash.com/photo-1610992236808-4b8b4d9b9d16?w=200"
            },
            {
                id: 32,
                name: "Vernis Gel Corail",
                price: 7500,
                category: "ongles Gel",
                stock: 22,
                description: "Corail √©clatant, parfait pour l'√©t√©",
                image: "https://images.unsplash.com/photo-1610992236908-4b8b4d9b9d25?w=200"
            },
            {
                id: 33,
                name: "Huile √† Cuticules",
                price: 5500,
                category: "ongles Gel",
                stock: 30,
                description: "Nourrit et assouplit les cuticules",
                image: "https://images.unsplash.com/photo-1610992237008-4b8b4d9b9d34?w=200"
            },
            
            // ACCESSOIRES - 7 produits (id 34-40)
            {
                id: 34,
                name: "Pinceaux Maquillage Set Premium",
                price: 18000,
                category: "Accessoires",
                stock: 18,
                description: "Set de 12 pinceaux professionnels en poils synth√©tiques",
                image: "https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=200"
            },
            {
                id: 35,
                name: "√âponge Beaut√© Blender",
                price: 4500,
                category: "Accessoires",
                stock: 40,
                description: "Application fond de teint sans traces",
                image: "https://images.unsplash.com/photo-1522338242992-e1a54906a8da?w=200"
            },
            {
                id: 36,
                name: "Trousse de Maquillage",
                price: 9500,
                category: "Accessoires",
                stock: 25,
                description: "Trousse organisatrice imperm√©able",
                image: "https://images.unsplash.com/photo-1592415486689-125cbbfcbee2?w=200"
            },
            {
                id: 37,
                name: "Miroir Grossissant Lumineux",
                price: 12500,
                category: "Accessoires",
                stock: 15,
                description: "Miroir x10 avec lumi√®re LED",
                image: "https://images.unsplash.com/photo-1617694002486-20f6b9fc6b1d?w=200"
            },
            {
                id: 38,
                name: "Porte Vernis Organiseur",
                price: 6500,
                category: "Accessoires",
                stock: 22,
                description: "Range jusqu'√† 24 vernis",
                image: "https://images.unsplash.com/photo-1610992237108-4b8b4d9b9d43?w=200"
            },
            {
                id: 39,
                name: "Nettoyant Pinceaux",
                price: 5500,
                category: "Accessoires",
                stock: 30,
                description: "Nettoyant liquide pour pinceaux",
                image: "https://images.unsplash.com/photo-1585232351009-aa4b9e2f9c6d?w=200"
            },
            {
                id: 40,
                name: "Palette de M√©lange",
                price: 3500,
                category: "Accessoires",
                stock: 35,
                description: "Palette inox pour m√©langer les couleurs",
                image: "https://images.unsplash.com/photo-1610992237208-4b8b4d9b9d52?w=200"
            }
        ];

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            autoGeolocate();
            
            // Chargement automatique du catalogue complet
            setTimeout(function() {
                loadCompleteCatalog();
            }, 100);
        });

        // Initialisation des √©couteurs d'√©v√©nements
        function initializeEventListeners() {
            const retourBtn = document.querySelector('.beauty-retour');
            if (retourBtn) {
                retourBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    history.back();
                });
            }

            document.getElementById('beauty-import-btn').addEventListener('click', handleImport);
            document.getElementById('sample-catalog-btn').addEventListener('click', loadSampleCatalog);
            document.getElementById('beauty-get-location').addEventListener('click', handleGeolocation);
            
            document.querySelectorAll('.currency-btn[data-currency]').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.currency-btn[data-currency]').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentCurrency = this.getAttribute('data-currency');
                    renderBeautyProducts();
                });
            });
            
            document.querySelectorAll('.currency-btn[data-total-currency]').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.currency-btn[data-total-currency]').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentTotalCurrency = this.getAttribute('data-total-currency');
                    updateBeautyOrderSummary();
                });
            });
            
            document.getElementById('beauty-whatsapp-btn').addEventListener('click', handleWhatsApp);
            document.getElementById('beauty-esodi-btn').addEventListener('click', handleEsodi);
            
            document.getElementById('beauty-esodi-modal-btn').addEventListener('click', function() {
                window.open('https://jeanskodoc.github.io/prestation-awally/', '_blank');
                showNotification('Redirection vers le portail de paiement...', 'success');
            });
            
            document.getElementById('beauty-cancel-btn').addEventListener('click', function() {
                document.getElementById('beauty-payment-modal').style.display = 'none';
            });
            
            document.getElementById('beauty-image-close').addEventListener('click', function() {
                document.getElementById('beauty-image-modal').style.display = 'none';
            });
            
            window.addEventListener('click', function(event) {
                if (event.target === document.getElementById('beauty-payment-modal')) {
                    document.getElementById('beauty-payment-modal').style.display = 'none';
                }
                if (event.target === document.getElementById('beauty-image-modal')) {
                    document.getElementById('beauty-image-modal').style.display = 'none';
                }
            });
            
            document.getElementById('beauty-import-catalog').addEventListener('change', function(e) {
                if (e.target.files.length > 0) {
                    handleImport();
                }
            });
        }

        // Chargement du catalogue complet
        function loadCompleteCatalog() {
            beautyProducts = [...COMPLETE_CATALOG];
            localStorage.setItem('beautyProducts', JSON.stringify(beautyProducts));
            renderBeautyProducts();
            showNotification('Catalogue complet charg√© avec succ√®s!', 'success');
        }

        // Chargement d'un catalogue exemple
        function loadSampleCatalog() {
            loadCompleteCatalog();
            document.getElementById('beauty-import-catalog').value = '';
        }

        // Gestion de l'importation
        function handleImport() {
            const fileInput = document.getElementById('beauty-import-catalog');
            const file = fileInput.files[0];
            
            if (!file) {
                showNotification('Veuillez s√©lectionner un fichier', 'error');
                return;
            }
            
            if (!file.name.toLowerCase().endsWith('.json')) {
                showNotification('Le fichier doit √™tre au format JSON', 'error');
                fileInput.value = '';
                return;
            }
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                try {
                    let parsedData;
                    try {
                        parsedData = JSON.parse(e.target.result);
                    } catch (jsonError) {
                        showNotification('Le fichier JSON est invalide', 'error');
                        fileInput.value = '';
                        return;
                    }
                    
                    const products = extractProductsFromJSON(parsedData);
                    
                    if (products.length === 0) {
                        showNotification('Aucun produit valide trouv√© dans le fichier', 'error');
                        fileInput.value = '';
                        return;
                    }
                    
                    beautyProducts = products;
                    localStorage.setItem('beautyProducts', JSON.stringify(beautyProducts));
                    renderBeautyProducts();
                    showNotification(`${products.length} produits import√©s avec succ√®s!`, 'success');
                    fileInput.value = '';
                    
                } catch (error) {
                    console.error('Erreur d\'importation:', error);
                    showNotification('Erreur lors de l\'importation du fichier', 'error');
                    fileInput.value = '';
                }
            };
            
            reader.onerror = function() {
                showNotification('Erreur de lecture du fichier', 'error');
                fileInput.value = '';
            };
            
            reader.readAsText(file);
        }

        // Extraction des produits du JSON
        function extractProductsFromJSON(data) {
            let productsArray = [];
            
            try {
                if (Array.isArray(data)) {
                    productsArray = data;
                }
                else if (data.products && Array.isArray(data.products)) {
                    productsArray = data.products;
                }
                else if (data.data && Array.isArray(data.data)) {
                    productsArray = data.data;
                }
                else if (data.items && Array.isArray(data.items)) {
                    productsArray = data.items;
                }
                
                const validProducts = productsArray
                    .filter(product => product !== null && typeof product === 'object')
                    .map((product, index) => normalizeProduct(product, index + 1))
                    .filter(product => product !== null);
                
                return validProducts;
                
            } catch (error) {
                console.error('Erreur extraction produits:', error);
                return [];
            }
        }

        // Normalisation d'un produit
        function normalizeProduct(product, defaultId) {
            try {
                const id = product.id || product.product_id || product.code || defaultId;
                const name = product.name || product.nom || product.product_name || product.title || 'Produit sans nom';
                const price = parseFloat(product.price || product.prix || product.cost || product.amount || 0);
                const category = product.category || product.categorie || product.type || 'maquillage';
                const stock = parseInt(product.stock || product.quantity || product.inventory || product.quantite || 10);
                const description = product.description || product.desc || product.details || product.notes || 'Description non disponible';
                const image = product.image || product.img || product.picture || product.photo || '';
                
                if (!id || !name || isNaN(price) || price <= 0) {
                    return null;
                }
                
                return {
                    id: id.toString(),
                    name: name,
                    price: price,
                    category: category,
                    stock: Math.max(0, stock),
                    description: description,
                    image: image
                };
                
            } catch (error) {
                console.error('Erreur normalisation produit:', error);
                return null;
            }
        }

        function loadProductsFromLocalStorage() {
            try {
                const savedProducts = localStorage.getItem('beautyProducts');
                if (savedProducts) {
                    const parsed = JSON.parse(savedProducts);
                    if (Array.isArray(parsed) && parsed.length > 0) {
                        beautyProducts = parsed;
                        renderBeautyProducts();
                    }
                }
            } catch (error) {
                console.error('Erreur chargement localStorage:', error);
                localStorage.removeItem('beautyProducts');
            }
        }

        function autoGeolocate() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        const lat = position.coords.latitude;
                        const lng = position.coords.longitude;
                        beautyUserCoordinates = { lat, lng };
                        updateAddressFromCoordinates(lat, lng);
                    },
                    function(error) {
                        console.log('G√©olocalisation automatique √©chou√©e');
                    },
                    { enableHighAccuracy: true, timeout: 10000 }
                );
            }
        }

        function handleGeolocation() {
            if (!navigator.geolocation) {
                showNotification('G√©olocalisation non support√©e', 'error');
                return;
            }
            
            document.getElementById('beauty-location-loading').style.display = 'flex';
            
            navigator.geolocation.getCurrentPosition(
                function(position) {
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    
                    beautyUserCoordinates = { lat, lng };
                    updateAddressFromCoordinates(lat, lng);
                    
                    document.getElementById('beauty-location-details').style.display = 'block';
                    document.getElementById('beauty-location-loading').style.display = 'none';
                    document.getElementById('beauty-coordinates').textContent = `${lat.toFixed(6)}, ${lng.toFixed(6)}`;
                    showNotification('Position obtenue avec succ√®s!', 'success');
                },
                function(error) {
                    document.getElementById('beauty-location-loading').style.display = 'none';
                    showNotification('Erreur de g√©olocalisation', 'error');
                },
                { enableHighAccuracy: true, timeout: 10000 }
            );
        }

        function updateAddressFromCoordinates(lat, lng) {
            fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zoom=18&addressdetails=1`)
                .then(response => response.json())
                .then(data => {
                    if (data && data.display_name) {
                        beautyUserAddress = data.display_name;
                        document.getElementById('beauty-detected-address').textContent = beautyUserAddress;
                        
                        const addressField = document.getElementById('beauty-adresse');
                        if (addressField && !addressField.value.trim()) {
                            addressField.value = beautyUserAddress;
                        }
                    }
                })
                .catch(error => {
                    console.error('Erreur g√©ocodage:', error);
                });
        }

        function renderBeautyProducts() {
            const grid = document.getElementById('beauty-product-grid');
            
            if (!beautyProducts || beautyProducts.length === 0) {
                grid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 30px;">
                        <i class="fas fa-palette" style="font-size: 48px; color: var(--primary-light); margin-bottom: 15px;"></i>
                        <h3 style="color: var(--secondary); margin-bottom: 10px;">Aucun produit disponible</h3>
                        <p style="color: var(--primary-light);">Importez un catalogue pour voir nos produits beaut√©</p>
                        <button onclick="document.getElementById('beauty-import-catalog').click()" style="margin-top: 15px; background: var(--primary); color: white; padding: 12px 24px; border: none; border-radius: 30px; cursor: pointer;">
                            <i class="fas fa-upload"></i> Importer un catalogue
                        </button>
                    </div>
                `;
                return;
            }
            
            grid.innerHTML = beautyProducts.map(product => {
                const categoryText = getCategoryText(product.category);
                const priceEuro = (product.price * EXCHANGE_RATES.EUR).toFixed(2);
                const priceDollar = (product.price * EXCHANGE_RATES.USD).toFixed(2);
                
                let displayPrice = '';
                if (currentCurrency === 'FCFA') {
                    displayPrice = product.price.toLocaleString() + ' FCFA';
                } else if (currentCurrency === 'EUR') {
                    displayPrice = '‚Ç¨' + priceEuro;
                } else {
                    displayPrice = '$' + priceDollar;
                }
                
                let imageContent = '';
                if (product.image) {
                    imageContent = `<img src="${product.image}" alt="${product.name}" onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\'fas fa-spa fa-3x\\' style=\\'color: white;\\'></i>';">`;
                } else {
                    imageContent = `<i class="fas fa-spa fa-3x" style="color: white;"></i>`;
                }
                
                // Nettoyer la cat√©gorie pour les classes CSS
                const categoryClass = product.category.toLowerCase().replace(/ /g, '-');
                
                return `
                    <div class="beauty-product-card category-${categoryClass}" data-category="${product.category}">
                        <span class="beauty-product-badge">${categoryText}</span>
                        <div class="beauty-product-image" onclick="showImageZoom('${product.image || ''}')">
                            ${imageContent}
                        </div>
                        <div class="beauty-product-info">
                            <h3 class="beauty-product-title">${product.name}</h3>
                            <div class="beauty-product-price">
                                <span class="price-fcfa">${displayPrice}</span>
                                <div class="price-other">
                                    <span class="price-euro">‚Ç¨${priceEuro}</span>
                                    <span class="price-dollar">$${priceDollar}</span>
                                </div>
                            </div>
                            <p class="beauty-product-description">${product.description || 'Description non disponible'}</p>
                            <div class="beauty-quantity-control">
                                <button class="beauty-quantity-btn" onclick="window.updateQuantity('${product.id}', -1)">-</button>
                                <input type="number" class="beauty-quantity-input" id="qty-${product.id}" 
                                       value="0" min="0" max="${product.stock || 999}" 
                                       onchange="window.updateQuantityInput('${product.id}')">
                                <button class="beauty-quantity-btn" onclick="window.updateQuantity('${product.id}', 1)">+</button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            initializeCategoryFilters();
            updateBeautyOrderSummary();
        }

        function initializeCategoryFilters() {
            document.querySelectorAll('.beauty-category-btn').forEach(btn => {
                btn.removeEventListener('click', handleCategoryFilter);
                btn.addEventListener('click', handleCategoryFilter);
            });
        }

        function handleCategoryFilter() {
            document.querySelectorAll('.beauty-category-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            const category = this.getAttribute('data-category');
            
            document.querySelectorAll('.beauty-product-card').forEach(card => {
                const cardCategory = card.getAttribute('data-category');
                if (category === 'all' || cardCategory === category) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function getCategoryText(category) {
            const categories = {
                'maquillage': 'Maquillage',
                'ongles Gel': 'Ongles Gel',
                'Accessoires': 'Accessoires'
            };
            return categories[category] || category;
        }

        window.updateQuantity = function(productId, change) {
            const input = document.getElementById(`qty-${productId}`);
            if (!input) return;
            
            let value = parseInt(input.value) || 0;
            const max = parseInt(input.getAttribute('max')) || 0;
            
            if (change > 0) {
                if (value < max) value++;
            } else if (change < 0) {
                if (value > 0) value--;
            }
            
            input.value = value;
            updateBeautyOrderSummary();
        };

        window.updateQuantityInput = function(productId) {
            const input = document.getElementById(`qty-${productId}`);
            if (!input) return;
            
            const max = parseInt(input.getAttribute('max')) || 0;
            let value = parseInt(input.value) || 0;
            
            if (value > max) value = max;
            if (value < 0) value = 0;
            
            input.value = value;
            updateBeautyOrderSummary();
        };

        window.showImageZoom = function(imageSrc) {
            if (!imageSrc) {
                showNotification('Image non disponible', 'info');
                return;
            }
            
            const modal = document.getElementById('beauty-image-modal');
            const zoomedImage = document.getElementById('beauty-zoomed-image');
            zoomedImage.src = imageSrc;
            modal.style.display = 'flex';
        };

        function updateBeautyOrderSummary() {
            let totalItems = 0;
            let subtotal = 0;
            
            beautyProducts.forEach(product => {
                const input = document.getElementById(`qty-${product.id}`);
                if (input) {
                    const quantity = parseInt(input.value) || 0;
                    totalItems += quantity;
                    subtotal += quantity * product.price;
                }
            });
            
            const deliveryFee = 2000;
            const total = subtotal + deliveryFee;
            
            const subtotalEuro = (subtotal * EXCHANGE_RATES.EUR).toFixed(2);
            const subtotalDollar = (subtotal * EXCHANGE_RATES.USD).toFixed(2);
            const totalEuro = (total * EXCHANGE_RATES.EUR).toFixed(2);
            const totalDollar = (total * EXCHANGE_RATES.USD).toFixed(2);
            const deliveryEuro = (deliveryFee * EXCHANGE_RATES.EUR).toFixed(2);
            const deliveryDollar = (deliveryFee * EXCHANGE_RATES.USD).toFixed(2);
            
            document.getElementById('beauty-articles-count').textContent = totalItems;
            
            if (currentTotalCurrency === 'FCFA') {
                document.getElementById('beauty-subtotal').innerHTML = `${subtotal.toLocaleString()} <span class="beauty-currency">FCFA</span>`;
                document.getElementById('beauty-delivery').innerHTML = `${deliveryFee.toLocaleString()} <span class="beauty-currency">FCFA</span>`;
                document.getElementById('beauty-total').innerHTML = `${total.toLocaleString()} <span class="beauty-currency">FCFA</span>`;
                document.getElementById('beauty-modal-amount').textContent = `${total.toLocaleString()} FCFA`;
            } else if (currentTotalCurrency === 'EUR') {
                document.getElementById('beauty-subtotal').innerHTML = `${subtotalEuro} <span class="beauty-currency">‚Ç¨</span>`;
                document.getElementById('beauty-delivery').innerHTML = `${deliveryEuro} <span class="beauty-currency">‚Ç¨</span>`;
                document.getElementById('beauty-total').innerHTML = `${totalEuro} <span class="beauty-currency">‚Ç¨</span>`;
                document.getElementById('beauty-modal-amount').textContent = `${totalEuro} ‚Ç¨`;
            } else {
                document.getElementById('beauty-subtotal').innerHTML = `${subtotalDollar} <span class="beauty-currency">$</span>`;
                document.getElementById('beauty-delivery').innerHTML = `${deliveryDollar} <span class="beauty-currency">$</span>`;
                document.getElementById('beauty-total').innerHTML = `${totalDollar} <span class="beauty-currency">$</span>`;
                document.getElementById('beauty-modal-amount').textContent = `${totalDollar} $`;
            }
            
            document.getElementById('modal-euro').textContent = `‚Ç¨${totalEuro}`;
            document.getElementById('modal-dollar').textContent = `$${totalDollar}`;
            
            updateSelectedProducts();
        }

        function updateSelectedProducts() {
            const container = document.getElementById('beauty-selected-list');
            const section = document.getElementById('beauty-selected-products');
            
            let html = '';
            let hasProducts = false;
            
            beautyProducts.forEach(product => {
                const input = document.getElementById(`qty-${product.id}`);
                if (input) {
                    const quantity = parseInt(input.value) || 0;
                    if (quantity > 0) {
                        hasProducts = true;
                        const total = quantity * product.price;
                        const totalEuro = (total * EXCHANGE_RATES.EUR).toFixed(2);
                        const totalDollar = (total * EXCHANGE_RATES.USD).toFixed(2);
                        
                        let displayTotal = '';
                        if (currentTotalCurrency === 'FCFA') {
                            displayTotal = total.toLocaleString() + ' FCFA';
                        } else if (currentTotalCurrency === 'EUR') {
                            displayTotal = '‚Ç¨' + totalEuro;
                        } else {
                            displayTotal = '$' + totalDollar;
                        }
                        
                        html += `
                            <div class="beauty-selected-item">
                                <div>
                                    <div class="beauty-selected-name">${product.name}</div>
                                    <small style="color: #999;">${quantity} x ${product.price.toLocaleString()} FCFA</small>
                                </div>
                                <div class="beauty-selected-price">${displayTotal}</div>
                            </div>
                        `;
                    }
                }
            });
            
            container.innerHTML = html;
            section.style.display = hasProducts ? 'block' : 'none';
        }

        function handleWhatsApp() {
            if (!validateOrder()) return;
            
            const orderDetails = generateOrderDetails();
            const whatsappNumber = "33756950190";
            const whatsappText = encodeURIComponent(orderDetails);
            
            window.open(`https://wa.me/${whatsappNumber}?text=${whatsappText}`, '_blank');
            showNotification('Redirection vers WhatsApp...', 'success');
        }

        function handleEsodi() {
            if (!validateOrder()) return;
            document.getElementById('beauty-payment-modal').style.display = 'flex';
        }

        function validateOrder() {
            const nom = document.getElementById('beauty-nom').value.trim();
            const whatsapp = document.getElementById('beauty-whatsapp').value.trim();
            const adresse = document.getElementById('beauty-adresse').value.trim();
            const confirm = document.getElementById('beauty-confirm').checked;
            
            if (!nom) {
                showNotification('Veuillez saisir votre nom', 'error');
                return false;
            }
            
            if (!whatsapp) {
                showNotification('Veuillez saisir votre num√©ro WhatsApp', 'error');
                return false;
            }
            
            if (!adresse) {
                showNotification('Veuillez saisir votre adresse', 'error');
                return false;
            }
            
            if (!confirm) {
                showNotification('Veuillez confirmer les informations', 'error');
                return false;
            }
            
            const totalItems = parseInt(document.getElementById('beauty-articles-count').textContent);
            if (totalItems === 0) {
                showNotification('S√©lectionnez au moins un produit', 'error');
                return false;
            }
            
            return true;
        }

        function generateOrderDetails() {
            const nom = document.getElementById('beauty-nom').value;
            const whatsapp = document.getElementById('beauty-whatsapp').value;
            const adresse = document.getElementById('beauty-adresse').value;
            
            let orderText = `üíÑ *COMMANDE BEAUT√â PRO* üíÑ\n\n`;
            orderText += `üë§ *Informations client:*\n`;
            orderText += `üìõ Nom: ${nom}\n`;
            orderText += `üì± WhatsApp: ${whatsapp}\n`;
            orderText += `üè† Adresse: ${adresse}\n`;
            
            if (beautyUserCoordinates) {
                orderText += `üìç Coordonn√©es GPS: ${beautyUserCoordinates.lat.toFixed(6)}, ${beautyUserCoordinates.lng.toFixed(6)}\n`;
                orderText += `üó∫Ô∏è Lien Google Maps: https://www.google.com/maps?q=${beautyUserCoordinates.lat},${beautyUserCoordinates.lng}\n`;
            }
            
            if (beautyUserAddress) {
                orderText += `üè° Adresse d√©tect√©e: ${beautyUserAddress}\n`;
            }
            
            orderText += `\nüõçÔ∏è *Articles command√©s:*\n`;
            
            let total = 0;
            beautyProducts.forEach(product => {
                const input = document.getElementById(`qty-${product.id}`);
                if (input) {
                    const quantity = parseInt(input.value) || 0;
                    if (quantity > 0) {
                        const itemTotal = quantity * product.price;
                        const itemEuro = (itemTotal * EXCHANGE_RATES.EUR).toFixed(2);
                        const itemDollar = (itemTotal * EXCHANGE_RATES.USD).toFixed(2);
                        
                        orderText += `‚Ä¢ ${product.name} (${quantity} x ${product.price.toLocaleString()} FCFA)\n`;
                        orderText += `  = ${itemTotal.toLocaleString()} FCFA (‚Ç¨${itemEuro} / $${itemDollar})\n`;
                        total += itemTotal;
                    }
                }
            });
            
            const totalEuro = (total * EXCHANGE_RATES.EUR).toFixed(2);
            const totalDollar = (total * EXCHANGE_RATES.USD).toFixed(2);
            const deliveryFee = 2000;
            const deliveryEuro = (deliveryFee * EXCHANGE_RATES.EUR).toFixed(2);
            const deliveryDollar = (deliveryFee * EXCHANGE_RATES.USD).toFixed(2);
            const grandTotal = total + deliveryFee;
            const grandTotalEuro = (grandTotal * EXCHANGE_RATES.EUR).toFixed(2);
            const grandTotalDollar = (grandTotal * EXCHANGE_RATES.USD).toFixed(2);
            
            orderText += `\nüí∞ *R√©capitulatif:*\n`;
            orderText += `üì¶ Sous-total: ${total.toLocaleString()} FCFA (‚Ç¨${totalEuro} / $${totalDollar})\n`;
            orderText += `üöö Frais de livraison: ${deliveryFee.toLocaleString()} FCFA (‚Ç¨${deliveryEuro} / $${deliveryDollar})\n`;
            orderText += `üíµ TOTAL: ${grandTotal.toLocaleString()} FCFA (‚Ç¨${grandTotalEuro} / $${grandTotalDollar})\n\n`;
            
            const now = new Date();
            orderText += `‚è∞ *Date:* ${now.toLocaleDateString('fr-FR')} √† ${now.toLocaleTimeString('fr-FR')}\n`;
            orderText += `üí≥ *M√©thode de paiement:* PayPal\n\n`;
            orderText += `Merci pour votre confiance ! üíï`;
            
            return orderText;
        }

        function showNotification(message, type = 'info') {
            const notification = document.getElementById('beauty-notification');
            notification.textContent = message;
            
            notification.style.background = 
                type === 'success' ? 'linear-gradient(135deg, #4caf50, #2e7d32)' :
                type === 'error' ? 'linear-gradient(135deg, #f44336, #d32f2f)' :
                'linear-gradient(135deg, #e91e63, #7b1fa2)';
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Exposer les fonctions n√©cessaires globalement
        window.loadSampleCatalog = loadSampleCatalog;
        window.handleImport = handleImport;
        window.loadCompleteCatalog = loadCompleteCatalog;
    </script>
</body>
</html>
